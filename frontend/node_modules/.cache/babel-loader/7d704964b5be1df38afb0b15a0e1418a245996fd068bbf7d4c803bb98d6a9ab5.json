{"ast":null,"code":"var _jsxFileName = \"/home/opt/BUAS-Dashboard/frontend/src/components/ConnectionStatus.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './ConnectionStatus.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ConnectionStatus = ({\n  isConnected,\n  lastUpdated,\n  retryCount = 0\n}) => {\n  _s();\n  const [showDetails, setShowDetails] = useState(false);\n  const getStatusInfo = () => {\n    if (isConnected) {\n      return {\n        icon: 'ðŸŸ¢',\n        text: 'Connected',\n        className: 'connected',\n        description: 'Real-time updates active'\n      };\n    } else {\n      return {\n        icon: 'ðŸ”´',\n        text: 'Disconnected',\n        className: 'disconnected',\n        description: retryCount > 0 ? `Retrying... (${retryCount})` : 'Connection lost'\n      };\n    }\n  };\n  const formatLastUpdated = timestamp => {\n    if (!timestamp) return 'Never';\n    const now = new Date();\n    const updateTime = new Date(timestamp);\n    const diffSeconds = Math.floor((now - updateTime) / 1000);\n    if (diffSeconds < 10) return 'Just now';\n    if (diffSeconds < 60) return `${diffSeconds}s ago`;\n    if (diffSeconds < 3600) return `${Math.floor(diffSeconds / 60)}m ago`;\n    return updateTime.toLocaleTimeString();\n  };\n  const status = getStatusInfo();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `connection-status ${status.className}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-indicator\",\n      onClick: () => setShowDetails(!showDetails),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"status-icon\",\n        children: status.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"status-text\",\n        children: status.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"status-toggle\",\n        children: showDetails ? 'â–¼' : 'â–¶'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), showDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"value\",\n          children: status.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"Last Update:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"value\",\n          children: formatLastUpdated(lastUpdated)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), retryCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"Retry Attempts:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"value\",\n          children: retryCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"Polling:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"value\",\n          children: \"Every 2 seconds\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(ConnectionStatus, \"n2rC7YX8Mzz154E9USQBvseY7a0=\");\n_c = ConnectionStatus;\nexport default ConnectionStatus;\nvar _c;\n$RefreshReg$(_c, \"ConnectionStatus\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ConnectionStatus","isConnected","lastUpdated","retryCount","_s","showDetails","setShowDetails","getStatusInfo","icon","text","className","description","formatLastUpdated","timestamp","now","Date","updateTime","diffSeconds","Math","floor","toLocaleTimeString","status","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/opt/BUAS-Dashboard/frontend/src/components/ConnectionStatus.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './ConnectionStatus.css';\n\nconst ConnectionStatus = ({ isConnected, lastUpdated, retryCount = 0 }) => {\n  const [showDetails, setShowDetails] = useState(false);\n  \n  const getStatusInfo = () => {\n    if (isConnected) {\n      return {\n        icon: 'ðŸŸ¢',\n        text: 'Connected',\n        className: 'connected',\n        description: 'Real-time updates active'\n      };\n    } else {\n      return {\n        icon: 'ðŸ”´',\n        text: 'Disconnected',\n        className: 'disconnected',\n        description: retryCount > 0 ? `Retrying... (${retryCount})` : 'Connection lost'\n      };\n    }\n  };\n\n  const formatLastUpdated = (timestamp) => {\n    if (!timestamp) return 'Never';\n    \n    const now = new Date();\n    const updateTime = new Date(timestamp);\n    const diffSeconds = Math.floor((now - updateTime) / 1000);\n    \n    if (diffSeconds < 10) return 'Just now';\n    if (diffSeconds < 60) return `${diffSeconds}s ago`;\n    if (diffSeconds < 3600) return `${Math.floor(diffSeconds / 60)}m ago`;\n    return updateTime.toLocaleTimeString();\n  };\n\n  const status = getStatusInfo();\n\n  return (\n    <div className={`connection-status ${status.className}`}>\n      <div className=\"status-indicator\" onClick={() => setShowDetails(!showDetails)}>\n        <span className=\"status-icon\">{status.icon}</span>\n        <span className=\"status-text\">{status.text}</span>\n        <span className=\"status-toggle\">{showDetails ? 'â–¼' : 'â–¶'}</span>\n      </div>\n      \n      {showDetails && (\n        <div className=\"status-details\">\n          <div className=\"status-row\">\n            <span className=\"label\">Status:</span>\n            <span className=\"value\">{status.description}</span>\n          </div>\n          <div className=\"status-row\">\n            <span className=\"label\">Last Update:</span>\n            <span className=\"value\">{formatLastUpdated(lastUpdated)}</span>\n          </div>\n          {retryCount > 0 && (\n            <div className=\"status-row\">\n              <span className=\"label\">Retry Attempts:</span>\n              <span className=\"value\">{retryCount}</span>\n            </div>\n          )}\n          <div className=\"status-row\">\n            <span className=\"label\">Polling:</span>\n            <span className=\"value\">Every 2 seconds</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConnectionStatus;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}