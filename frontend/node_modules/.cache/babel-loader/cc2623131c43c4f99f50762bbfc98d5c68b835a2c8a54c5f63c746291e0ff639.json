{"ast":null,"code":"var _jsxFileName = \"/home/opt/BUAS-Dashboard/frontend/src/components/MapView.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport './MapView.css';\n\n// Fix for default markers in react-leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png'\n});\n\n// Custom icons for different user states\nconst createCustomIcon = status => {\n  const color = status === 'listening' ? '#dc2626' : status === 'idle' ? '#6b7280' : '#ef4444';\n  return L.divIcon({\n    className: 'custom-marker',\n    html: `\n      <div style=\"\n        background-color: ${color};\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        border: 3px solid white;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n        position: relative;\n      \">\n        ${status === 'listening' ? '<div style=\"position: absolute; top: -2px; left: -2px; width: 24px; height: 24px; border: 2px solid #dc2626; border-radius: 50%; animation: pulse 2s infinite;\"></div>' : ''}\n      </div>\n    `,\n    iconSize: [20, 20],\n    iconAnchor: [10, 10],\n    popupAnchor: [0, -10]\n  });\n};\n\n// Component to update map view when users change\nconst MapUpdater = ({\n  users,\n  selectedUser\n}) => {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (selectedUser && users.length > 0) {\n      const user = users.find(u => u.user_id === selectedUser);\n      if (user && user.location) {\n        map.setView([user.location.lat, user.location.lng], 15);\n      }\n    } else if (users.length > 0) {\n      // Fit map to show all users\n      const validLocations = users.filter(user => user.location && user.location.lat && user.location.lng).map(user => [user.location.lat, user.location.lng]);\n      if (validLocations.length > 0) {\n        const bounds = L.latLngBounds(validLocations);\n        map.fitBounds(bounds, {\n          padding: [20, 20]\n        });\n      }\n    }\n  }, [map, users, selectedUser]);\n  return null;\n};\n_s(MapUpdater, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = MapUpdater;\nconst MapView = ({\n  users = [],\n  onUserSelect,\n  selectedUser,\n  isLoading\n}) => {\n  _s2();\n  const [mapCenter] = useState([6.5244, 3.3792]); // Lagos, Nigeria default\n  const [mapZoom] = useState(10);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  // Filter users with valid locations\n  const usersWithLocations = users.filter(user => user.location && user.location.lat && user.location.lng && !isNaN(user.location.lat) && !isNaN(user.location.lng));\n  const handleMarkerClick = user => {\n    if (onUserSelect) {\n      onUserSelect(user.user_id);\n    }\n  };\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'listening':\n        return 'Currently Listening';\n      case 'idle':\n        return 'Idle';\n      case 'offline':\n        return 'Offline';\n      default:\n        return 'Unknown';\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'listening':\n        return '#dc2626';\n      case 'idle':\n        return '#6b7280';\n      case 'offline':\n        return '#ef4444';\n      default:\n        return '#6b7280';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `map-container ${isFullscreen ? 'fullscreen' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"User Locations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-legend\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-dot listening\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Listening\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-dot idle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Idle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-dot offline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Offline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"fullscreen-btn\",\n          onClick: toggleFullscreen,\n          title: isFullscreen ? 'Exit Fullscreen' : 'Enter Fullscreen',\n          children: isFullscreen ? 'ðŸ“‰' : 'ðŸ“ˆ'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-wrapper\",\n      children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Loading locations...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: mapCenter,\n        zoom: mapZoom,\n        className: \"leaflet-map\",\n        zoomControl: true,\n        scrollWheelZoom: true,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MapUpdater, {\n          users: usersWithLocations,\n          selectedUser: selectedUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), usersWithLocations.map(user => /*#__PURE__*/_jsxDEV(Marker, {\n          position: [user.location.lat, user.location.lng],\n          icon: createCustomIcon(user.status),\n          eventHandlers: {\n            click: () => handleMarkerClick(user)\n          },\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"map-popup\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"popup-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: user.user_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${user.status}`,\n                  style: {\n                    backgroundColor: getStatusColor(user.status)\n                  },\n                  children: getStatusText(user.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"popup-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"popup-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Location:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 23\n                  }, this), \" \", user.location.lat.toFixed(4), \", \", user.location.lng.toFixed(4)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this), user.session_start && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"popup-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Session Start:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 25\n                  }, this), \" \", new Date(user.session_start).toLocaleTimeString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this), user.last_activity && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"popup-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Last Activity:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 25\n                  }, this), \" \", new Date(user.last_activity).toLocaleTimeString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"popup-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"popup-btn select-btn\",\n                  onClick: () => handleMarkerClick(user),\n                  children: \"Select User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)\n        }, user.user_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Total Users:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          children: users.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"With Locations:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          children: usersWithLocations.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Currently Listening:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value listening\",\n          children: users.filter(u => u.status === 'listening').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n_s2(MapView, \"XdpqVMq/+NkendZ36DP/oKawba0=\");\n_c2 = MapView;\nexport default MapView;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapUpdater\");\n$RefreshReg$(_c2, \"MapView\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","useMap","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","createCustomIcon","status","color","divIcon","className","html","iconSize","iconAnchor","popupAnchor","MapUpdater","users","selectedUser","_s","map","length","user","find","u","user_id","location","setView","lat","lng","validLocations","filter","bounds","latLngBounds","fitBounds","padding","_c","MapView","onUserSelect","isLoading","_s2","mapCenter","mapZoom","isFullscreen","setIsFullscreen","usersWithLocations","isNaN","handleMarkerClick","toggleFullscreen","getStatusText","getStatusColor","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","center","zoom","zoomControl","scrollWheelZoom","attribution","url","position","icon","eventHandlers","click","style","backgroundColor","toFixed","session_start","Date","toLocaleTimeString","last_activity","_c2","$RefreshReg$"],"sources":["/home/opt/BUAS-Dashboard/frontend/src/components/MapView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport './MapView.css';\n\n// Fix for default markers in react-leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',\n});\n\n// Custom icons for different user states\nconst createCustomIcon = (status) => {\n  const color = status === 'listening' ? '#dc2626' : \n                status === 'idle' ? '#6b7280' : '#ef4444';\n  \n  return L.divIcon({\n    className: 'custom-marker',\n    html: `\n      <div style=\"\n        background-color: ${color};\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        border: 3px solid white;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n        position: relative;\n      \">\n        ${status === 'listening' ? \n          '<div style=\"position: absolute; top: -2px; left: -2px; width: 24px; height: 24px; border: 2px solid #dc2626; border-radius: 50%; animation: pulse 2s infinite;\"></div>' : \n          ''\n        }\n      </div>\n    `,\n    iconSize: [20, 20],\n    iconAnchor: [10, 10],\n    popupAnchor: [0, -10]\n  });\n};\n\n// Component to update map view when users change\nconst MapUpdater = ({ users, selectedUser }) => {\n  const map = useMap();\n\n  useEffect(() => {\n    if (selectedUser && users.length > 0) {\n      const user = users.find(u => u.user_id === selectedUser);\n      if (user && user.location) {\n        map.setView([user.location.lat, user.location.lng], 15);\n      }\n    } else if (users.length > 0) {\n      // Fit map to show all users\n      const validLocations = users\n        .filter(user => user.location && user.location.lat && user.location.lng)\n        .map(user => [user.location.lat, user.location.lng]);\n      \n      if (validLocations.length > 0) {\n        const bounds = L.latLngBounds(validLocations);\n        map.fitBounds(bounds, { padding: [20, 20] });\n      }\n    }\n  }, [map, users, selectedUser]);\n\n  return null;\n};\n\nconst MapView = ({ users = [], onUserSelect, selectedUser, isLoading }) => {\n  const [mapCenter] = useState([6.5244, 3.3792]); // Lagos, Nigeria default\n  const [mapZoom] = useState(10);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  // Filter users with valid locations\n  const usersWithLocations = users.filter(user => \n    user.location && \n    user.location.lat && \n    user.location.lng &&\n    !isNaN(user.location.lat) && \n    !isNaN(user.location.lng)\n  );\n\n  const handleMarkerClick = (user) => {\n    if (onUserSelect) {\n      onUserSelect(user.user_id);\n    }\n  };\n\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'listening': return 'Currently Listening';\n      case 'idle': return 'Idle';\n      case 'offline': return 'Offline';\n      default: return 'Unknown';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'listening': return '#dc2626';\n      case 'idle': return '#6b7280';\n      case 'offline': return '#ef4444';\n      default: return '#6b7280';\n    }\n  };\n\n  return (\n    <div className={`map-container ${isFullscreen ? 'fullscreen' : ''}`}>\n      <div className=\"map-header\">\n        <h3>User Locations</h3>\n        <div className=\"map-controls\">\n          <div className=\"map-legend\">\n            <div className=\"legend-item\">\n              <div className=\"legend-dot listening\"></div>\n              <span>Listening</span>\n            </div>\n            <div className=\"legend-item\">\n              <div className=\"legend-dot idle\"></div>\n              <span>Idle</span>\n            </div>\n            <div className=\"legend-item\">\n              <div className=\"legend-dot offline\"></div>\n              <span>Offline</span>\n            </div>\n          </div>\n          <button \n            className=\"fullscreen-btn\"\n            onClick={toggleFullscreen}\n            title={isFullscreen ? 'Exit Fullscreen' : 'Enter Fullscreen'}\n          >\n            {isFullscreen ? 'ðŸ“‰' : 'ðŸ“ˆ'}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"map-wrapper\">\n        {isLoading && (\n          <div className=\"map-loading\">\n            <div className=\"loading-spinner\"></div>\n            <span>Loading locations...</span>\n          </div>\n        )}\n\n        <MapContainer\n          center={mapCenter}\n          zoom={mapZoom}\n          className=\"leaflet-map\"\n          zoomControl={true}\n          scrollWheelZoom={true}\n        >\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          \n          <MapUpdater users={usersWithLocations} selectedUser={selectedUser} />\n\n          {usersWithLocations.map((user) => (\n            <Marker\n              key={user.user_id}\n              position={[user.location.lat, user.location.lng]}\n              icon={createCustomIcon(user.status)}\n              eventHandlers={{\n                click: () => handleMarkerClick(user)\n              }}\n            >\n              <Popup>\n                <div className=\"map-popup\">\n                  <div className=\"popup-header\">\n                    <h4>{user.user_id}</h4>\n                    <span \n                      className={`status-badge ${user.status}`}\n                      style={{ backgroundColor: getStatusColor(user.status) }}\n                    >\n                      {getStatusText(user.status)}\n                    </span>\n                  </div>\n                  <div className=\"popup-content\">\n                    <div className=\"popup-info\">\n                      <strong>Location:</strong> {user.location.lat.toFixed(4)}, {user.location.lng.toFixed(4)}\n                    </div>\n                    {user.session_start && (\n                      <div className=\"popup-info\">\n                        <strong>Session Start:</strong> {new Date(user.session_start).toLocaleTimeString()}\n                      </div>\n                    )}\n                    {user.last_activity && (\n                      <div className=\"popup-info\">\n                        <strong>Last Activity:</strong> {new Date(user.last_activity).toLocaleTimeString()}\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"popup-actions\">\n                    <button \n                      className=\"popup-btn select-btn\"\n                      onClick={() => handleMarkerClick(user)}\n                    >\n                      Select User\n                    </button>\n                  </div>\n                </div>\n              </Popup>\n            </Marker>\n          ))}\n        </MapContainer>\n      </div>\n\n      <div className=\"map-stats\">\n        <div className=\"stat-item\">\n          <span className=\"stat-label\">Total Users:</span>\n          <span className=\"stat-value\">{users.length}</span>\n        </div>\n        <div className=\"stat-item\">\n          <span className=\"stat-label\">With Locations:</span>\n          <span className=\"stat-value\">{usersWithLocations.length}</span>\n        </div>\n        <div className=\"stat-item\">\n          <span className=\"stat-label\">Currently Listening:</span>\n          <span className=\"stat-value listening\">\n            {users.filter(u => u.status === 'listening').length}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MapView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}